---
import { render } from "astro:content";
import OptimizedImage from "./utilities/OptimizedImage.astro";
import { getLocaleUrlCTM } from "@/lib/utils/i18nUtils";

import ImageList from "@/components/ImageList.astro";
import ImageItem from "@/components/ImageItem.astro";

const {
  data: { title, image },
} = Astro.props.content;

const { Content } = await render(Astro.props.content);
---

<section
  class="relative h-[40vh] min-h-[300px] w-full overflow-hidden bg-black">
  <div class="absolute inset-0 z-0 opacity-50">
    <div class="absolute inset-0 bg-linear-to-t from-black to-transparent">
    </div>
  </div>
  <div class="relative z-10 container flex h-full flex-col justify-center">
    <div class="max-w-4xl">
      <a
        href={getLocaleUrlCTM("/services", Astro.currentLocale)}
        class="mb-4 inline-flex items-center text-sm font-medium text-white/80 transition-colors hover:text-yellow-400">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="mr-2">
          <path d="m15 18-6-6 6-6"></path>
        </svg>
        Volver a Servicios
      </a>
      {
        title && (
          <h1
            class="text-4xl font-bold text-white md:text-6xl lg:text-7xl"
            set:html={title}
          />
        )
      }
    </div>
  </div>
</section>

<section class="py-16 md:py-24">
  <div class="container">
    <div class="grid grid-cols-1 gap-12 lg:grid-cols-12">
      <!-- Left Column: Key Info -->
      <div class="lg:col-span-4">
        <div
          class="sticky top-32 rounded-2xl border border-white/10 bg-neutral-900/50 p-8 backdrop-blur-md">
          <h3 class="mb-6 text-xl font-semibold text-white">
            Información Clave
          </h3>
          <div class="space-y-6">
            <div class="flex items-start gap-4">
              <div
                class="mt-1 flex h-8 w-8 items-center justify-center rounded-full bg-yellow-400/20 text-yellow-400">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="18"
                  height="18"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round">
                  <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline
                    points="22 4 12 14.01 9 11.01">
                  </polyline>
                </svg>
              </div>
              <div>
                <h4 class="font-medium text-white">Beneficios</h4>
                <p class="text-sm text-white/60">
                  Soluciones adaptadas a tus necesidades específicas.
                </p>
              </div>
            </div>
            <div class="flex items-start gap-4">
              <div
                class="mt-1 flex h-8 w-8 items-center justify-center rounded-full bg-yellow-400/20 text-yellow-400">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="18"
                  height="18"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round">
                  <circle cx="12" cy="12" r="10"></circle><polyline
                    points="12 6 12 12 16 14">
                  </polyline>
                </svg>
              </div>
              <div>
                <h4 class="font-medium text-white">Disponibilidad</h4>
                <p class="text-sm text-white/60">
                  Soporte y monitoreo continuo para tu operación.
                </p>
              </div>
            </div>
            <div class="flex items-start gap-4">
              <div
                class="mt-1 flex h-8 w-8 items-center justify-center rounded-full bg-yellow-400/20 text-yellow-400">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="18"
                  height="18"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round">
                  <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                </svg>
              </div>
              <div>
                <h4 class="font-medium text-white">Garantía</h4>
                <p class="text-sm text-white/60">
                  Calidad asegurada en cada proceso implementado.
                </p>
              </div>
            </div>
          </div>

          <div class="mt-8 border-t border-white/10 pt-8">
            <a
              href="#contact-form"
              class="flex w-full items-center justify-center rounded-full bg-yellow-400 px-6 py-3 text-sm font-bold text-black transition-transform hover:scale-105 hover:bg-yellow-300">
              Solicitar Cotización
            </a>
          </div>
        </div>
      </div>

      <!-- Right Column: Main Content -->
      <div class="lg:col-span-8">
        {
          Content && (
            <div class="prose-styles content has-video-modal">
              <Content components={{ ImageItem, ImageList }} />
            </div>
          )
        }
      </div>
    </div>
  </div>
</section>
